(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),u=n(2),i=n(1),s=n(6),f={snake:[{x:6,y:5}],direct:"top",food:{},foodExsit:!1,stop:!1},l=function(e,t,n){var c=Object(a.createContext)();return{Context:c,Provider:function(o){var u=o.children,f=Object(a.useReducer)(e,n),l=Object(s.a)(f,2),d=l[0],E=l[1],O={};for(var v in t)O[v]=t[v](E,d);return r.a.createElement(c.Provider,{value:Object(i.a)({state:d},O)},u)}}}((function(e,t){var n=t.type,a=t.payload;switch(n){case O.CHANGE_DIRECTION:return Object(i.a)({},e,{direct:a});case O.MOVE:return Object(i.a)({},e,{snake:a});case O.CREATE_FOOD:case O.EAT_FOOD:return Object(i.a)({},e,{},a);case O.STOP:return Object(i.a)({},e,{stop:!0});case O.RESET:return Object(i.a)({},f);default:return e}}),{changeDirection:function(e){return function(t){e({type:O.CHANGE_DIRECTION,payload:t})}},move:function(e,t){return function(){var n=t.direct,a=t.snake,r=Object(i.a)({},a[0]),c=Object(u.a)(a),o=r.x,s=r.y;switch(n){case"left":o--;break;case"right":o++;break;case"down":s++;break;case"top":default:s--}(c=[{x:o,y:s}].concat(Object(u.a)(c))).pop(),e({type:O.MOVE,payload:c})}},createFood:function(e,t){return function(){var n=t.snake,a=v(n);e({type:O.CREATE_FOOD,payload:{food:a,foodExsit:!0}})}},eatFood:function(e,t){return function(n){var a=t.snake,r=[].concat(Object(u.a)(a),[n]);e({type:O.EAT_FOOD,payload:{foodExsit:!1,snake:r,food:{}}})}},setStop:function(e){return function(){e({type:O.STOP})}},reset:function(e){return function(){e({type:O.RESET})}}},f),d=l.Context,E=l.Provider,O={MOVE:"MOVE",CHANGE_DIRECTION:"CHANGE_DIRECTION",CREATE_FOOD:"CREATE_FOOD",EAT_FOOD:"EAT_FOOD",STOP:"STOP",RESET:"RESET"},v=function e(t){var n=Math.floor(14*Math.random()),a=Math.floor(11*Math.random()),r={x:n,y:a};return t.forEach((function(c){c.x===n&&c.y===a&&(r=e(t))})),r},m=(n(12),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}),y=n(5),b=n.n(y),p={},x=function(e){var t=e.children,n=Object(a.useContext)(d),c=n.state,o=c.direct,u=c.snake,i=c.foodExsit,s=c.food,f=c.stop,l=n.changeDirection,E=n.move,O=n.createFood,v=n.eatFood,y=n.setStop,x=n.reset;Object(a.useEffect)((function(){var e=u.length;(u[0].x<0||u[0].y<0||u[0].x>13||u[0].y>10||u.length>3&&-1!==b.a.findIndex(u.slice(1),u[0]))&&y(),i?u[0].x===s.x&&u[0].y===s.y&&v(p):O(),p=u[e-1]}),[u,i]);return m(E,f?null:250),r.a.createElement("div",{tabIndex:"0",onKeyDown:function(e){var t={37:"left",38:"top",39:"right",40:"down"},n=e.keyCode;13===n&&x(),t[n]!==o&&("left"===o&&39!==n||"right"===o&&37!==n||"top"===o&&40!==n||"down"===o&&38!==n)&&l(t[n])},className:"body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"score"},"Your Score: ",u.length-1),t))},j=function(e){var t=e.active,n=e.food;return r.a.createElement("div",{className:"cell ".concat(t?"active":""," ").concat(n?"food":"")})},h=function(e){var t=e.yaxis,n=Object(a.useContext)(d).state,c=n.snake,o=n.food,i=Object(a.useMemo)((function(){return Object(u.a)(Array(14)).map((function(e,n){var a=!1,u=!1;return c.forEach((function(e){e.x===n&&e.y===t&&(a=!0)})),o.x===n&&o.y===t&&(u=!0),r.a.createElement(j,{key:n,food:u,active:a})}))}),[c,o]);return r.a.createElement("div",{className:"row"},i)},C=function(){var e=Object(a.useContext)(d),t=e.state.stop,n=e.reset;return r.a.createElement(x,null,t&&r.a.createElement("div",{className:"die"},r.a.createElement("div",null,r.a.createElement("div",{className:"die-title"},"You Dead"),r.a.createElement("button",{onClick:n,className:"die-btn"},"Reset"))),Object(u.a)(Array(11)).map((function(e,t){return r.a.createElement(h,{key:t,yaxis:t})})))};o.a.render(r.a.createElement(E,null,r.a.createElement(C,null)),document.querySelector("#root"))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.2c227713.chunk.js.map