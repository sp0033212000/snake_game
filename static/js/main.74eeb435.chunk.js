(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),i=a(2),l=a(1),s=a(6),u={snake:[{x:6,y:5}],direct:"top",food:{},foodExsit:!1,stop:!0,relay:null,changeDirect:!1},f=function(e,t,a){var c=Object(n.createContext)();return{Context:c,Provider:function(o){var i=o.children,u=Object(n.useReducer)(e,a),f=Object(s.a)(u,2),d=f[0],m=f[1],E=Object(n.useMemo)((function(){var e={};return Object.keys(t).forEach((function(a){e[a]=t[a](m)})),e}),[]);return r.a.createElement(c.Provider,{value:Object(l.a)({state:d},E)},i)}}}((function(e,t){var a=t.type,n=t.payload;switch(a){case E.CHANGE_DIRECTION:return Object(l.a)({},e,{direct:n,changeDirect:!0});case E.MOVE:return Object(l.a)({},e,{snake:v(e.snake,e.direct),changeDirect:!1});case E.CREATE_FOOD:return Object(l.a)({},e,{food:O(e.snake),foodExsit:!0});case E.EAT_FOOD:return Object(l.a)({},e,{foodExsit:!1,snake:[].concat(Object(i.a)(e.snake),[n]),food:{}});case E.STOP:return Object(l.a)({},e,{relay:null,stop:!0});case E.RESET:return Object(l.a)({},u);case E.START:return Object(l.a)({},u,{relay:n,stop:!1});default:return e}}),{changeDirection:function(e){return function(t){e({type:E.CHANGE_DIRECTION,payload:t})}},move:function(e){return function(){e({type:E.MOVE})}},createFood:function(e){return function(){e({type:E.CREATE_FOOD})}},eatFood:function(e){return function(t){e({type:E.EAT_FOOD,payload:t})}},setStop:function(e){return function(){e({type:E.STOP})}},reset:function(e){return function(){e({type:E.RESET})}},start:function(e){return function(){e({type:E.START,payload:150})}}},u),d=f.Context,m=f.Provider,E={MOVE:"MOVE",CHANGE_DIRECTION:"CHANGE_DIRECTION",CREATE_FOOD:"CREATE_FOOD",EAT_FOOD:"EAT_FOOD",STOP:"STOP",RESET:"RESET",START:"START"},O=function e(t){var a=Math.floor(14*Math.random()),n=Math.floor(11*Math.random()),r={x:a,y:n};return t.forEach((function(c){c.x===a&&c.y===n&&(r=e(t))})),r},v=function(e,t){var a=Object(l.a)({},e[0]),n=Object(i.a)(e),r=a.x,c=a.y;switch(t){case"left":r--;break;case"right":r++;break;case"down":c++;break;case"top":default:c--}return(n=[{x:r,y:c}].concat(Object(i.a)(n))).pop(),n},y=(a(12),function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}),b=a(5),p=a.n(b),N={},j=function(e){var t=e.children,a=Object(n.useContext)(d),c=a.state,o=c.direct,i=c.snake,l=c.foodExsit,s=c.food,u=c.relay,f=c.changeDirect,m=a.changeDirection,E=a.move,O=a.createFood,v=a.eatFood,b=a.setStop,j=a.start,k=Object(n.useRef)();Object(n.useEffect)((function(){k.current.focus()}),[]),Object(n.useEffect)((function(){var e=i.length;(i[0].x<0||i[0].y<0||i[0].x>13||i[0].y>10||i.length>3&&-1!==p.a.findIndex(i.slice(1),i[0]))&&b(),l?i[0].x===s.x&&i[0].y===s.y&&v(N):O(),N=i[e-1]}),[i,l]);var C=function(e){var t={37:"left",38:"top",39:"right",40:"down"},a=e.keyCode;(13===a&&null===u||a>=37&&a<=40&&null===u)&&j(),t[a]!==o&&a>=37&&a<=40&&!f&&("left"===o&&39!==a||"right"===o&&37!==a||"top"===o&&40!==a||"down"===o&&38!==a)&&m(t[a])};return y(E,u),r.a.createElement("div",{className:"body",ref:k,tabIndex:"0",onKeyDown:C},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"score"},"Your Score: ",i.length-1),t)),r.a.createElement("div",{className:"controller"},r.a.createElement("div",{className:"ctrl-container"},r.a.createElement("div",{onClick:function(){return C({keyCode:38})},className:"arrow-container top"},r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"arrow-root"})),r.a.createElement("div",{onClick:function(){return C({keyCode:37})},className:"arrow-container left"},r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"arrow-root"})),r.a.createElement("div",{onClick:function(){return C({keyCode:39})},className:"arrow-container right"},r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"arrow-root"})),r.a.createElement("div",{onClick:function(){return C({keyCode:40})},className:"arrow-container bottom"},r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"arrow-root"})))))},k=r.a.memo((function(e){var t=e.active,a=e.food;return r.a.createElement("div",{className:"cell ".concat(t?"active":""," ").concat(a?"food":"")})})),C=r.a.memo((function(e){var t=e.yaxis,a=Object(n.useContext)(d).state,c=a.snake,o=a.food,l=Object(n.useMemo)((function(){return Object(i.a)(Array(14)).map((function(e,a){var n=!1,i=!1;return c.forEach((function(e){e.x===a&&e.y===t&&(n=!0)})),o.x===a&&o.y===t&&(i=!0),r.a.createElement(k,{key:a,food:i,active:n})}))}),[c,o]);return r.a.createElement("div",{className:"row"},l)}),(function(e,t){console.log("prev",e),console.log("next",t)})),T=function(){var e=Object(n.useContext)(d),t=e.state.relay,a=e.start,c=Object(n.useMemo)((function(){return Object(i.a)(Array(11)).map((function(e,t){return r.a.createElement(C,{key:t,yaxis:t})}))}),[]);return r.a.createElement(j,null,null===t&&r.a.createElement("div",{className:"die"},r.a.createElement("div",null,r.a.createElement("div",{className:"die-title table"},"Start Game"),r.a.createElement("div",{className:"die-title mobile"},"Click Arrow Start"),r.a.createElement("button",{onClick:a,className:"die-btn"},"Start"))),c)};o.a.render(r.a.createElement(m,null,r.a.createElement(T,null)),document.querySelector("#root"))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.74eeb435.chunk.js.map