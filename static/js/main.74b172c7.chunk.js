(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),u=n(2),i=n(1),s=n(6),f={snake:[{x:6,y:5}],direct:"top",food:{},foodExsit:!1,stop:!0,relay:null,changeDirect:!1},l=function(e,t,n){var c=Object(a.createContext)();return{Context:c,Provider:function(o){var u=o.children,f=Object(a.useReducer)(e,n),l=Object(s.a)(f,2),d=l[0],E=l[1],O=Object(a.useMemo)((function(){var e={};return Object.keys(t).forEach((function(n){e[n]=t[n](E)})),e}),[]);return r.a.createElement(c.Provider,{value:Object(i.a)({state:d},O)},u)}}}((function(e,t){var n=t.type,a=t.payload;switch(n){case O.CHANGE_DIRECTION:return Object(i.a)({},e,{direct:a,changeDirect:!0});case O.MOVE:return Object(i.a)({},e,{snake:v(e.snake,e.direct),changeDirect:!1});case O.CREATE_FOOD:return Object(i.a)({},e,{food:y(e.snake),foodExsit:!0});case O.EAT_FOOD:return Object(i.a)({},e,{foodExsit:!1,snake:[].concat(Object(u.a)(e.snake),[a]),food:{}});case O.STOP:return Object(i.a)({},e,{relay:null,stop:!0});case O.RESET:return Object(i.a)({},f);case O.START:return Object(i.a)({},f,{relay:a,stop:!1});default:return e}}),{changeDirection:function(e){return function(t){e({type:O.CHANGE_DIRECTION,payload:t})}},move:function(e){return function(){e({type:O.MOVE})}},createFood:function(e){return function(){e({type:O.CREATE_FOOD})}},eatFood:function(e){return function(t){e({type:O.EAT_FOOD,payload:t})}},setStop:function(e){return function(){e({type:O.STOP})}},reset:function(e){return function(){e({type:O.RESET})}},start:function(e){return function(){e({type:O.START,payload:150})}}},f),d=l.Context,E=l.Provider,O={MOVE:"MOVE",CHANGE_DIRECTION:"CHANGE_DIRECTION",CREATE_FOOD:"CREATE_FOOD",EAT_FOOD:"EAT_FOOD",STOP:"STOP",RESET:"RESET",START:"START"},y=function e(t){var n=Math.floor(14*Math.random()),a=Math.floor(11*Math.random()),r={x:n,y:a};return t.forEach((function(c){c.x===n&&c.y===a&&(r=e(t))})),r},v=function(e,t){var n=Object(i.a)({},e[0]),a=Object(u.a)(e),r=n.x,c=n.y;switch(t){case"left":r--;break;case"right":r++;break;case"down":c++;break;case"top":default:c--}return(a=[{x:r,y:c}].concat(Object(u.a)(a))).pop(),a},m=(n(12),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}),b=n(5),p=n.n(b),j={},T=function(e){var t=e.children,n=Object(a.useContext)(d),c=n.state,o=c.direct,u=c.snake,i=c.foodExsit,s=c.food,f=c.relay,l=c.changeDirect,E=n.changeDirection,O=n.move,y=n.createFood,v=n.eatFood,b=n.setStop,T=n.start;Object(a.useEffect)((function(){return document.addEventListener("keydown",h),function(){document.removeEventListener("keydown",h)}}),[o,l,f]),Object(a.useEffect)((function(){var e=u.length;(u[0].x<0||u[0].y<0||u[0].x>13||u[0].y>10||u.length>3&&-1!==p.a.findIndex(u.slice(1),u[0]))&&b(),i?u[0].x===s.x&&u[0].y===s.y&&v(j):y(),j=u[e-1]}),[u,i]);var h=function(e){var t={37:"left",38:"top",39:"right",40:"down"},n=e.keyCode;13===n&&null===f&&T(),t[n]!==o&&n>=37&&n<=40&&!l&&("left"===o&&39!==n||"right"===o&&37!==n||"top"===o&&40!==n||"down"===o&&38!==n)&&E(t[n])};return m(O,f),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"score"},"Your Score: ",u.length-1),t))},h=function(e){var t=e.active,n=e.food;return r.a.createElement("div",{className:"cell ".concat(t?"active":""," ").concat(n?"food":"")})},x=function(e){var t=e.yaxis,n=Object(a.useContext)(d).state,c=n.snake,o=n.food,i=Object(a.useMemo)((function(){return Object(u.a)(Array(14)).map((function(e,n){var a=!1,u=!1;return c.forEach((function(e){e.x===n&&e.y===t&&(a=!0)})),o.x===n&&o.y===t&&(u=!0),r.a.createElement(h,{key:n,food:u,active:a})}))}),[c,o]);return r.a.createElement("div",{className:"row"},i)},k=function(){var e=Object(a.useContext)(d),t=e.state.relay,n=e.start;return r.a.createElement(T,null,null===t&&r.a.createElement("div",{className:"die"},r.a.createElement("div",null,r.a.createElement("div",{className:"die-title"},"Start Game"),r.a.createElement("button",{onClick:n,className:"die-btn"},"Start"))),Object(u.a)(Array(11)).map((function(e,t){return r.a.createElement(x,{key:t,yaxis:t})})))};o.a.render(r.a.createElement(E,null,r.a.createElement(k,null)),document.querySelector("#root"))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.74b172c7.chunk.js.map