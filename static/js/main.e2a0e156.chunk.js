(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),o=n.n(r),u=n(2),i=n(1),s=n(6),f={snake:[{x:6,y:5}],direct:"top",food:{},foodExsit:!1,stop:!0,relay:null,changeDirect:!1},l=function(e,t,n){var r=Object(a.createContext)();return{Context:r,Provider:function(o){var u=o.children,f=Object(a.useReducer)(e,n),l=Object(s.a)(f,2),E=l[0],O=l[1],d=Object(a.useMemo)((function(){var e={};return Object.keys(t).forEach((function(n){e[n]=t[n](O)})),e}),[]);return c.a.createElement(r.Provider,{value:Object(i.a)({state:E},d)},u)}}}((function(e,t){var n=t.type,a=t.payload;switch(n){case d.CHANGE_DIRECTION:return Object(i.a)({},e,{direct:a,changeDirect:!0});case d.MOVE:return Object(i.a)({},e,{snake:b(e.snake,e.direct),changeDirect:!1});case d.CREATE_FOOD:return Object(i.a)({},e,{food:m(e.snake),foodExsit:!0});case d.EAT_FOOD:return Object(i.a)({},e,{foodExsit:!1,snake:[].concat(Object(u.a)(e.snake),[a]),food:{}});case d.STOP:return Object(i.a)({},e,{relay:null,stop:!0});case d.RESET:return Object(i.a)({},f);case d.START:return Object(i.a)({},f,{relay:a,stop:!1});default:return e}}),{changeDirection:function(e){return function(t){e({type:d.CHANGE_DIRECTION,payload:t})}},move:function(e){return function(){e({type:d.MOVE})}},createFood:function(e){return function(){e({type:d.CREATE_FOOD})}},eatFood:function(e){return function(t){e({type:d.EAT_FOOD,payload:t})}},setStop:function(e){return function(){e({type:d.STOP})}},reset:function(e){return function(){e({type:d.RESET})}},start:function(e){return function(){e({type:d.START,payload:150})}}},f),E=l.Context,O=l.Provider,d={MOVE:"MOVE",CHANGE_DIRECTION:"CHANGE_DIRECTION",CREATE_FOOD:"CREATE_FOOD",EAT_FOOD:"EAT_FOOD",STOP:"STOP",RESET:"RESET",START:"START"},m=function e(t){var n=Math.floor(14*Math.random()),a=Math.floor(11*Math.random()),c={x:n,y:a};return t.forEach((function(r){r.x===n&&r.y===a&&(c=e(t))})),c},b=function(e,t){var n=Object(i.a)({},e[0]),a=Object(u.a)(e),c=n.x,r=n.y;switch(t){case"left":c--;break;case"right":c++;break;case"down":r++;break;case"top":default:r--}return(a=[{x:c,y:r}].concat(Object(u.a)(a))).pop(),a},y=(n(12),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}),v=n(5),p=n.n(v),j={},T=function(e){var t=e.children,n=Object(a.useContext)(E),r=n.state,o=r.direct,u=r.snake,i=r.foodExsit,s=r.food,f=r.relay,l=r.changeDirect,O=n.changeDirection,d=n.move,m=n.createFood,b=n.eatFood,v=n.setStop,T=n.start,x=Object(a.useRef)();Object(a.useEffect)((function(){x.current.focus()}),[]),Object(a.useEffect)((function(){var e=u.length;(u[0].x<0||u[0].y<0||u[0].x>13||u[0].y>10||u.length>3&&-1!==p.a.findIndex(u.slice(1),u[0]))&&v(),i?u[0].x===s.x&&u[0].y===s.y&&b(j):m(),j=u[e-1]}),[u,i]);return y(d,f),c.a.createElement("div",{className:"body",ref:x,tabIndex:"0",onKeyDown:function(e){var t={37:"left",38:"top",39:"right",40:"down"},n=e.keyCode;13===n&&null===f&&T(),t[n]!==o&&n>=37&&n<=40&&!l&&("left"===o&&39!==n||"right"===o&&37!==n||"top"===o&&40!==n||"down"===o&&38!==n)&&O(t[n])}},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"score"},"Your Score: ",u.length-1),t))},x=c.a.memo((function(e){var t=e.active,n=e.food;return c.a.createElement("div",{className:"cell ".concat(t?"active":""," ").concat(n?"food":"")})})),h=c.a.memo((function(e){var t=e.yaxis,n=Object(a.useContext)(E).state,r=n.snake,o=n.food,i=Object(a.useMemo)((function(){return Object(u.a)(Array(14)).map((function(e,n){var a=!1,u=!1;return r.forEach((function(e){e.x===n&&e.y===t&&(a=!0)})),o.x===n&&o.y===t&&(u=!0),c.a.createElement(x,{key:n,food:u,active:a})}))}),[r,o]);return c.a.createElement("div",{className:"row"},i)}),(function(e,t){console.log("prev",e),console.log("next",t)})),k=function(){var e=Object(a.useContext)(E),t=e.state.relay,n=e.start,r=Object(a.useMemo)((function(){return Object(u.a)(Array(11)).map((function(e,t){return c.a.createElement(h,{key:t,yaxis:t})}))}),[]);return c.a.createElement(T,null,null===t&&c.a.createElement("div",{className:"die"},c.a.createElement("div",null,c.a.createElement("div",{className:"die-title"},"Start Game"),c.a.createElement("button",{onClick:n,className:"die-btn"},"Start"))),r)};o.a.render(c.a.createElement(O,null,c.a.createElement(k,null)),document.querySelector("#root"))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.e2a0e156.chunk.js.map